import GCS from"./lib/gcs.js";import ToolKit from"./lib/toolkit.js";class Clam{constructor(name="GCS"){if(this.name=name,console.log("make Clam instance mode is "+name),"GCS"!==name)throw Error("The second argument is invalid. You can set only 'GCS'. It means that you use Google Cloud Storage.");this.module=new GCS(new ToolKit)}setCred=params=>{if(!params)throw Error("You must set the first argument.");if(!(params.clientId&&params.redirectUrl&&params.scope))throw Error("The first argument is invalid. You must set 'clientId', 'redirectUrl' and 'scope'.");try{this.module.setCred(params)}catch(err){throw err}};toAuthPage=()=>{if(console.log("Auth"),!this.module)throw Error("This instance is not initialzed.");this.module.oauthSignIn()};getAuthInfo=()=>{if(console.log("Auth info + "+this.name),!this.module)throw Error("This instance is not initialzed.");if("GCS"===this.name)return this.module.getAccessToken(location)};uploadFiles=async(fileList,bucketName,callback)=>{if(console.log("Uplad"),!this.module)throw Error("This instance is not initialzed.");return this.module.uploadFiles(fileList,bucketName,callback)}}export default Clam;